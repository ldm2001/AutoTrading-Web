.watchlist-wrap {
	display: flex;
	flex-direction: column;
	height: 100%;
	border: 1px solid var(--color-border);
	border-radius: 0.375rem;
	background-color: #ffffff;
	overflow: hidden;
}

/* Sections: 상하 분할 */
.watchlist-section {
	display: flex;
	flex-direction: column;
	min-height: 0;
}

.my-stocks {
	flex: 1;
	overflow: hidden;
}

.ai-picks {
	flex: 1;
	overflow: hidden;
}

.section-divider {
	height: 1px;
	background: var(--color-border);
	flex-shrink: 0;
}

.watchlist-header {
	padding: 0.5rem 0.625rem;
	border-bottom: 1px solid var(--color-border);
	flex-shrink: 0;
}

.watchlist-title {
	font-size: 0.75rem;
	font-weight: 600;
	color: #6b7280;
	text-transform: uppercase;
	letter-spacing: 0.05em;
}

.watchlist-count {
	color: #9ca3af;
	font-weight: 400;
}

/* AI Header */
.ai-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.ai-title {
	color: #7c3aed;
}

.refresh-btn {
	background: none;
	border: 1px solid var(--color-border);
	border-radius: 0.25rem;
	color: #6b7280;
	font-size: 0.625rem;
	padding: 0.125rem 0.375rem;
	cursor: pointer;
}

.refresh-btn {
	transition: background-color 0.15s, color 0.15s;
}
.refresh-btn:hover {
	background: #f3f4f6;
	color: #374151;
}

.refresh-btn:disabled {
	opacity: 0.5;
	cursor: default;
}

/* Search */
.watchlist-search {
	padding: 0.375rem 0.5rem;
	border-bottom: 1px solid var(--color-border);
	position: relative;
	flex-shrink: 0;
}

.search-form {
	display: flex;
	gap: 0.25rem;
}

.search-input {
	flex: 1;
	background: #f9fafb;
	border: 1px solid var(--color-border);
	border-radius: 0.25rem;
	color: #111827;
	padding: 0.25rem 0.5rem;
	font-size: 0.6875rem;
	outline: none;
}

.search-input:focus {
	border-color: #9ca3af;
}

.search-input::placeholder {
	color: #9ca3af;
}

.search-btn {
	background: #f3f4f6;
	border: 1px solid var(--color-border);
	border-radius: 0.25rem;
	color: #6b7280;
	padding: 0.25rem 0.5rem;
	font-size: 0.75rem;
	font-weight: 700;
	cursor: pointer;
}

.search-btn:hover {
	background: #e5e7eb;
	color: #111827;
}

.search-btn:disabled {
	opacity: 0.5;
}

.suggestions {
	position: absolute;
	top: 100%;
	left: 0.5rem;
	right: 0.5rem;
	background: #ffffff;
	border: 1px solid var(--color-border);
	border-radius: 0.25rem;
	z-index: 50;
	max-height: 12rem;
	overflow-y: auto;
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08);
}

.suggestion-item {
	display: flex;
	justify-content: space-between;
	width: 100%;
	padding: 0.375rem 0.5rem;
	background: none;
	border: none;
	border-bottom: 1px solid #f3f4f6;
	color: #374151;
	cursor: pointer;
	font-size: 0.6875rem;
	text-align: left;
}

.suggestion-item {
	transition: background-color 0.1s;
}
.suggestion-item:hover {
	background: #f9fafb;
}

.suggestion-item:last-child {
	border-bottom: none;
}

.suggestion-name {
	font-weight: 500;
}

.suggestion-code {
	color: #9ca3af;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.search-clear {
	background: none;
	border: none;
	color: #9ca3af;
	font-size: 0.875rem;
	cursor: pointer;
	padding: 0 0.25rem;
	line-height: 1;
}

.search-clear:hover {
	color: #374151;
}

.search-error {
	display: block;
	font-size: 0.625rem;
	color: var(--color-up);
	margin-top: 0.25rem;
}

/* Stock List */
.stock-list {
	flex: 1;
	overflow-y: auto;
}

.stock-list::-webkit-scrollbar {
	width: 3px;
}

.stock-list::-webkit-scrollbar-thumb {
	background: #d1d5db;
	border-radius: 2px;
}

.stock-item {
	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	padding: 0.3125rem 0.625rem;
	border: none;
	border-bottom: 1px solid #f3f4f6;
	border-left: 2px solid transparent;
	background: none;
	cursor: pointer;
	text-align: left;
	transition: background-color 0.1s;
	color: inherit;
}

.stock-item:hover {
	background-color: #f9fafb;
}

.stock-item:hover .stock-remove {
	opacity: 1;
}

.stock-item.selected {
	background-color: rgba(59, 130, 246, 0.04);
	border-left-color: #3b82f6;
}

.stock-top {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.stock-name {
	font-size: 0.6875rem;
	font-weight: 600;
	color: #111827;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	flex: 1;
}

.stock-market-tag {
	font-size: 0.5625rem;
	color: #9ca3af;
	flex-shrink: 0;
	padding: 0.0625rem 0.25rem;
	border-radius: 0.125rem;
	background: #f3f4f6;
}

.stock-bottom {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-top: 0.125rem;
}

.stock-price {
	font-size: 0.75rem;
	font-weight: 500;
	color: #374151;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.stock-change {
	font-size: 0.6875rem;
	font-weight: 500;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
	color: #9ca3af;
}

.stock-change.up {
	color: var(--color-up);
}

.stock-change.down {
	color: var(--color-down);
}

.watchlist-empty {
	padding: 1.5rem 1rem;
	text-align: center;
	color: #9ca3af;
	font-size: 0.75rem;
	line-height: 1.5;
}

/* AI Recommend */
.rec-wrap {
	border-bottom: 1px solid #f3f4f6;
}

.recommend-item {
	border-left-color: transparent;
}

.recommend-item.selected {
	border-left-color: #7c3aed;
	background-color: rgba(124, 58, 237, 0.04);
}

.recommend-item.expanded {
	border-bottom: none;
}

.rec-signal {
	font-size: 0.5625rem;
	font-weight: 700;
	padding: 0.0625rem 0.25rem;
	border-radius: 0.125rem;
	flex-shrink: 0;
}

.rec-signal.buy {
	color: #ef4444;
	background-color: rgba(239, 68, 68, 0.08);
}

.rec-signal.sell {
	color: #3b82f6;
	background-color: rgba(59, 130, 246, 0.08);
}

.rec-signal.hold {
	color: #9ca3af;
	background-color: rgba(156, 163, 175, 0.08);
}

/* Expandable Detail */
.rec-detail {
	padding: 0.375rem 0.625rem 0.5rem;
	background: #f9fafb;
	border-left: 2px solid #7c3aed;
}

.rec-detail-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 0.125rem 0;
}

.rec-detail-label {
	font-size: 0.625rem;
	color: #9ca3af;
}

.rec-detail-value {
	font-size: 0.6875rem;
	font-weight: 600;
	color: #374151;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.rec-detail-value.pred.up {
	color: #ef4444;
}

.rec-detail-value.pred.down {
	color: #3b82f6;
}

.rec-factors {
	display: flex;
	flex-wrap: wrap;
	gap: 0.25rem;
	margin-top: 0.375rem;
}

.rec-factor {
	display: flex;
	align-items: center;
	gap: 0.125rem;
	font-size: 0.5625rem;
	padding: 0.125rem 0.3125rem;
	border-radius: 0.1875rem;
	background: #e5e7eb;
	color: #6b7280;
}

.rec-factor.positive {
	background: rgba(239, 68, 68, 0.08);
	color: #ef4444;
}

.rec-factor.negative {
	background: rgba(59, 130, 246, 0.08);
	color: #3b82f6;
}

.factor-name {
	font-weight: 500;
}

.factor-score {
	font-weight: 700;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

/* ── AI 추천 모달 ── */
.rec-modal-body {
	display: flex;
	flex-direction: column;
	gap: 1rem;
	padding: 0.25rem 0;
}

.rec-modal-signal-row {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.rec-modal-signal {
	font-size: 0.8125rem;
	font-weight: 700;
	padding: 0.25rem 0.625rem;
	border-radius: 0.25rem;
}
.rec-modal-signal.buy { color: #ef4444; background: rgba(239, 68, 68, 0.1); }
.rec-modal-signal.sell { color: #3b82f6; background: rgba(59, 130, 246, 0.1); }
.rec-modal-signal.hold { color: #9ca3af; background: rgba(156, 163, 175, 0.1); }

.rec-modal-score {
	font-size: 0.875rem;
	font-weight: 700;
	color: #7c3aed;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.rec-modal-price {
	margin-left: auto;
	font-size: 0.875rem;
	font-weight: 600;
	color: #374151;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.rec-modal-narrative {
	font-size: 0.8125rem;
	color: #4b5563;
	line-height: 1.6;
	background: #f9fafb;
	border-left: 3px solid #7c3aed;
	padding: 0.625rem 0.75rem;
	border-radius: 0 0.25rem 0.25rem 0;
	margin: 0;
}

.rec-modal-section {
	display: flex;
	flex-direction: column;
	gap: 0.375rem;
}

.rec-modal-section-title {
	font-size: 0.6875rem;
	font-weight: 600;
	color: #9ca3af;
	text-transform: uppercase;
	letter-spacing: 0.06em;
	margin: 0 0 0.125rem;
}

.rec-modal-factor {
	display: flex;
	flex-direction: column;
	gap: 0.1875rem;
	padding: 0.3125rem 0;
	border-bottom: 1px solid #f3f4f6;
}
.rec-modal-factor:last-child { border-bottom: none; }

.rec-modal-factor-top {
	display: flex;
	align-items: center;
	gap: 0.5rem;
}

.rec-modal-factor-name {
	font-size: 0.6875rem;
	font-weight: 600;
	color: #374151;
	width: 5.5rem;
	flex-shrink: 0;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}

.rec-modal-bar-wrap {
	flex: 1;
	height: 5px;
	background: #f3f4f6;
	border-radius: 3px;
	overflow: hidden;
}

.rec-modal-bar {
	display: block;
	width: 100%;
	height: 100%;
	border-radius: 3px;
	background: #d1d5db;
	transform-origin: left center;
	transform: scaleX(0);
	transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	will-change: transform;
}
.rec-modal-bar.pos { background: #ef4444; }
.rec-modal-bar.neg { background: #3b82f6; }
.rec-modal-bar.neutral { background: #e5e7eb; opacity: 0.7; }

.rec-modal-factor-score {
	font-size: 0.6875rem;
	font-weight: 700;
	color: #9ca3af;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
	width: 2.5rem;
	text-align: right;
	flex-shrink: 0;
}
.rec-modal-factor-score.pos { color: #ef4444; }
.rec-modal-factor-score.neg { color: #3b82f6; }

.rec-modal-factor-reason {
	font-size: 0.6875rem;
	color: #6b7280;
	margin: 0;
	padding-left: 6rem;
	line-height: 1.4;
}

.rec-modal-pred-row {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	background: #f9fafb;
	padding: 0.625rem 0.75rem;
	border-radius: 0.375rem;
	flex-wrap: wrap;
}

.rec-modal-pred-item {
	display: flex;
	flex-direction: column;
	gap: 0.125rem;
}

.rec-modal-pred-label {
	font-size: 0.5625rem;
	color: #9ca3af;
}

.rec-modal-pred-val {
	font-size: 0.9375rem;
	font-weight: 700;
	color: #374151;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
}
.rec-modal-pred-val.pred-up { color: #ef4444; }
.rec-modal-pred-val.pred-down { color: #3b82f6; }

.rec-modal-pred-arrow { color: #9ca3af; font-size: 1rem; }

.rec-modal-pred-badge {
	margin-left: auto;
	font-size: 0.9375rem;
	font-weight: 700;
	padding: 0.25rem 0.5rem;
	border-radius: 0.25rem;
	font-family: 'SF Mono', 'Cascadia Code', 'Consolas', monospace;
	background: #f3f4f6;
	color: #6b7280;
}
.rec-modal-pred-badge.pred-up { background: rgba(239, 68, 68, 0.08); color: #ef4444; }
.rec-modal-pred-badge.pred-down { background: rgba(59, 130, 246, 0.08); color: #3b82f6; }

.recommend-loading {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.5rem;
	padding: 1.5rem 1rem;
	color: #9ca3af;
	font-size: 0.75rem;
}

.recommend-spinner {
	width: 1.25rem;
	height: 1.25rem;
	border: 2px solid #e5e7eb;
	border-top-color: #7c3aed;
	border-radius: 50%;
	animation: spin 0.8s linear infinite;
	will-change: transform;
}

@keyframes spin {
	to { transform: rotate(360deg); }
}
